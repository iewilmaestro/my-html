error_reporting(0);

function translate($msg, $country){
	while(true){
		$ua = [
		"x-requested-with: XMLHttpRequest",
		"user-agent: Mozilla/5.0 (Linux; Android 11; 2201117TY) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.85 Mobile Safari/537.36"
		];
		$data = "text_to_translate=".urlencode($msg)."&source_lang=id&translated_lang=".$country."&use_cache_only=false";
		$opts = ['http' =>['method'  => 'POST','header' => $ua,'content' => $data]];
		$r = json_decode(file_get_contents("https://www.translate.com/ajax/machine-translation/translate", false, stream_context_create($opts)),1);
		if(!$r["translated_text"]){
			$country = "en";
			continue;
		}
		return $r["translated_text"];
	}
}
$msg = "Maaf Script di Matikankan oleh admin
- Web update
- Web Mati
- Rawan Banned
- Admin tidak mampu update script
";

$en = "Sorry Script Turned Off by admin
- Web updates
- Dead Web
- Prone to Banned
- Admin unable to update script
";

$api = json_decode(file_get_contents("http://ip-api.com/json"),1);
$country = strtolower($api["countryCode"]);

if(strtolower(PHP_OS) == "linux"){
	$msg .= "Apakah Anda ingin menghapus Folder & File ini?";
	if($country == "id"){
		print $msg."\n";
	}else{
		print translate($msg, $country)."\n";
	}
	$ver = readline('(y/n) ');
	$ver = strtolower($ver[0]);
	if($ver == "y"){
		$location_folder = $_SERVER["PWD"];
		system("rm -r ".$location_folder);
	}
	print "Subscribe youtube.com/c/iewil ☺️\n";
}else{
	$os = "";
	if($country == "id"){
		print $msg."\n";
	}else{
		print $en."\n";
	}
}

